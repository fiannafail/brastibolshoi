{"version":3,"sources":["webpack:///webpack/bootstrap e12903a8acc4c0d241ba","webpack:///external \"debug\"","webpack:///./server/handlers/redis.js","webpack:///external \"redis\"","webpack:///./server/config.js","webpack:///./server/models/user.js","webpack:///external \"mongoose\"","webpack:///external \"sequelize\"","webpack:///./server/postgres-connector.js","webpack:///external \"koa-passport\"","webpack:///./server/services/jwt-service.js","webpack:///external \"jsonwebtoken\"","webpack:///external \"sequelize-slugify\"","webpack:///./nuxt.config.js","webpack:///./server/handlers/index.js","webpack:///./server/mongoose-connection.js","webpack:///./server/passport.js","webpack:///./server/routes.js","webpack:///./server/services/socketio.js","webpack:///external \"http\"","webpack:///external \"koa\"","webpack:///external \"nuxt\"","webpack:///./server/controllers/_cartoon.js","webpack:///./server/controllers/audio.js","webpack:///./server/controllers/cartoon.js","webpack:///./server/controllers/entry.js","webpack:///./server/controllers/user.js","webpack:///./server/handlers/checkUser.js","webpack:///./server/jwt.js","webpack:///./server/models/_cartoon.js","webpack:///./server/models/audio.js","webpack:///./server/models/cartoon.js","webpack:///./server/models/entry.js","webpack:///external \"bcrypt\"","webpack:///external \"cloudinary\"","webpack:///external \"fs\"","webpack:///external \"koa-decoded-querystring\"","webpack:///external \"koa-multer\"","webpack:///external \"koa-router\"","webpack:///external \"koa2-formidable\"","webpack:///external \"lodash\"","webpack:///external \"mongoose-unique-validator\"","webpack:///external \"os\"","webpack:///external \"passport-local\"","webpack:///external \"path\"","webpack:///external \"slug-generator\"","webpack:///external \"socket.io\"","webpack:///external \"util\"","webpack:///./server/index.js","webpack:///external \"webpack-node-externals\""],"names":["redisClient","redis","createClient","on","err","console","log","promisify","require","getAsync","get","bind","REDIS_URL","DATABASE_URL","process","env","REDIS_KEY","JWT_KEY","mongoose","plugin","userSchema","username","type","String","unique","required","role","default","email","password","pre","next","isModified","salt","bcrypt","genSaltSync","hashSync","methods","authenticate","compareSync","passwordHash","statics","done","findOne","user","model","sequelize","dialect","sync","genToken","data","expiration","jwt","sign","expiresIn","verify","token","verifyNoExp","ignoreExpiration","nodeExternals","module","exports","head","title","meta","charset","name","content","hid","link","rel","href","siteTitle","plugins","src","ssr","css","loading","color","build","vendor","extractCSS","extend","config","ctx","isClient","rules","push","enforce","test","loader","exclude","isServer","externals","whitelist","koaDecodedQuerystring","app","use","bodyParser","debug","Promise","mongoUri","Error","connect","then","mongodb","LocalStrategy","configure","passport","strategyFunc","User","serializeUser","id","deserializeUser","findById","fs","os","path","multer","upload","dest","cloudinary","cloud_name","api_key","api_secret","router","post","signUp","signIn","checkUser","body","Audio","addCategory","getCategories","addAudio","getAudios","Cartoon","add","getAll","_Cartoon","getCategoryCartoons","getRedis","getMongo","getMoreCartoons","getCartoons","getTagByName","getCartoonBySlug","getCartoonsByTag","getTags","setTag","addAgeCategory","addTag","getMultiseries","file","request","files","reader","createReadStream","stream","createWriteStream","join","pipe","image","uploader","secure_url","Entry","addEntry","server","io","socket","sockets","msg","description","slugify","tag","set","print","emit","_","Op","Sequelize","cartoon","where","slug","params","include","e","cartoons","findAll","category","requests","all","tagRequest","split","multiseries","isMultiseries","limit","order","offset","parseInt","ne","through","attributes","categories","Categories","create","tags","Tag","group","raw","setTags","audios","Category","audio","find","map","_id","item","distinct","i","save","AgeCategory","toString","getOne","el","entry","status","accessToken","jwtService","refreshToken","login","response","header","authorization","decoded","throw","message","confirmedRefreshToken","newAccessToken","newRefreshToken","define","cartoonId","allowNull","primaryKey","STRING","TEXT","unclear","video","year","INTEGER","thumbnail","author","BOOLEAN","parentTitleId","autoIncrement","categoriesId","CartoonTags","tag_id","taggable","taggable_id","references","belongsTo","foreignKey","hasMany","belongsToMany","scope","constraints","SequelizeSlugify","slugifyModel","source","ageCategorySchema","tagSchema","cartoonSchema","Boolean","Number","multiseriesTitle","Schema","Types","ObjectId","ref","entrySchema","host","HOST","port","PORT","dev","nuxt","builder","initialize","initHandlers","mongooseConnector","catch","error","routes","resolve","reject","res","render","req","promise","http","createServer","callback","websockets","listen","start"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 47);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e12903a8acc4c0d241ba","module.exports = require(\"debug\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"debug\"\n// module id = 0\n// module chunks = 0","import redis from 'redis'\nimport { REDIS_URL } from '../config'\n\nexport const redisClient = redis.createClient(REDIS_URL)\n\nredisClient.on('error', function (err) {\n\tconsole.log('Error ' + err)\n})\n\nconst { promisify } = require('util')\nexport const getAsync = promisify(redisClient.get).bind(redisClient)\n\n\n\n\n// WEBPACK FOOTER //\n// ./server/handlers/redis.js","module.exports = require(\"redis\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redis\"\n// module id = 2\n// module chunks = 0","let REDIS_URL, DATABASE_URL\n\nif (process.env.NODE_ENV === 'production') {\n\tREDIS_URL = process.env.REDIS_URL\n\tDATABASE_URL = process.env.DATABASE_URL\n} else {\n\tREDIS_URL = 'redis://localhost:6379'\n\tDATABASE_URL = 'postgres://postgres:6354825107@127.0.0.1:5432/postgres'\n}\nconst REDIS_KEY = 'DRKlPeBHbgr0FUSs'\nconst JWT_KEY = 'dFTvn3RxVsXE8ZJafmcQSi7fSAL4L9i8'\n\nexport {\n\tREDIS_URL,\n\tJWT_KEY,\n\tREDIS_KEY,\n\tDATABASE_URL\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./server/config.js","import mongoose, { Schema } from 'mongoose'\nimport bcrypt from 'bcrypt'\nimport uniqueValidator from 'mongoose-unique-validator'\n\nmongoose.plugin(uniqueValidator)\n\nconst userSchema = new Schema({\n\tusername: { type: String, unique: true, required: true },\n\trole: { type: String, default: 'user', required: true },\n\temail: { type: String, unique: true, required: true },\n\tpassword: { type: String, required: true }\n})\n\nuserSchema.pre('save', function (next) {\n\tif (!this.isModified('password')) {\n\t\treturn next()\n\t}\n\tconst salt = bcrypt.genSaltSync(10)\n\n\tthis.password = bcrypt.hashSync(this.password, salt)\n\tnext()\n})\n\nuserSchema.methods.authenticate = function (password) {\n\treturn bcrypt.compareSync(password, this.passwordHash)\n}\nuserSchema.statics.authenticate = function (username, password, done) {\n\tconsole.log({ username: username, password: password })\n\tthis.findOne({ username: username }, (err, user) => {\n\t\tif (err) {\n\t\t\tconsole.log('Error to check', err)\n\t\t\tdone(err)\n\t\t} else if (user) {\n\t\t\tconsole.log('Success!', user)\n\t\t\tdone(null, user)\n\t\t} else {\n\t\t\tconsole.log('Something else')\n\t\t\tdone(null, false)\n\t\t}\n\t})\n}\n\nexport default mongoose.model('user', userSchema);\n\n\n// WEBPACK FOOTER //\n// ./server/models/user.js","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"sequelize\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"sequelize\"\n// module id = 6\n// module chunks = 0","import Sequalize from 'sequelize'\nimport { DATABASE_URL } from './config'\n\nconst sequelize = new Sequalize(DATABASE_URL, {\n\tdialect: 'postgres'\n})\nsequelize.sync()\nexport default sequelize\n\n\n\n// WEBPACK FOOTER //\n// ./server/postgres-connector.js","module.exports = require(\"koa-passport\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-passport\"\n// module id = 8\n// module chunks = 0","import jwt from 'jsonwebtoken';\nimport { JWT_KEY } from '../config'\n\nexport default {\n  genToken(data, expiration) {\n    return jwt.sign(data, JWT_KEY, { expiresIn: expiration })\n  },\n  verify(token) {\n    return jwt.verify(token, JWT_KEY)\n  },\n  verifyNoExp(token) {\n    return jwt.verify(token, JWT_KEY, { ignoreExpiration: true })\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./server/services/jwt-service.js","module.exports = require(\"jsonwebtoken\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jsonwebtoken\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"sequelize-slugify\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"sequelize-slugify\"\n// module id = 11\n// module chunks = 0","const nodeExternals = require('webpack-node-externals')\n\nmodule.exports = {\n\t/*\n\t** Headers of the page\n\t*/\n\thead: {\n\t\ttitle: 'starter',\n\t\tmeta: [\n\t\t\t{ charset: 'utf-8' },\n\t\t\t{ name: 'viewport', content: 'width=device-width, initial-scale=1' },\n\t\t\t{ hid: 'description', name: 'description', content: 'Nuxt.js project' }\n\t\t],\n\t\tlink: [\n\t\t\t{ rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' },\n\t\t\t{ rel: 'stylesheet', href: 'https://fonts.googleapis.com/css?family=Material+Icons|Roboto+Mono:500|PT+Sans:400,700|Source+Sans+Pro:300,400,600,700&amp;subset=cyrillic' }\n\t\t]\n\t},\n\tenv: {\n\t\tsiteTitle: 'Растибольшой.ком'\n\t},\n\tplugins: [\n\t\t{ src: '~/plugins/vue-notifications.js', ssr: false },\n\t\t{ src: '~/plugins/vue-lazyload.js', ssr: false }\n\t],\n\t/*\n\t** Global CSS\n\t*/\n\tcss: ['~assets/css/main.css'],\n\t/*\n\t** Customize the progress-bar color\n\t*/\n\tloading: { color: '#fa8925' },\n\t/*\n\t ** Build configuration\n\t */\n\tbuild: {\n\t\tvendor: ['vue-notifications'],\n\t\textractCSS: true,\n\t\t/*\n\t\t ** Run ESLINT on save\n\t\t */\n\t\textend (config, ctx) {\n\t\t\tif (ctx.isClient) {\n\t\t\t\tconfig.module.rules.push({\n\t\t\t\t\tenforce: 'pre',\n\t\t\t\t\ttest: /\\.(js|vue)$/,\n\t\t\t\t\tloader: 'eslint-loader',\n\t\t\t\t\texclude: /(node_modules)/\n\t\t\t\t})\n\t\t\t}\n\t\t\tif (ctx.isServer) {\n\t\t\t\tconfig.externals = [\n\t\t\t\t\tnodeExternals ({\n\t\t\t\t\t\twhitelist: [/es6-promise|\\.(?!(?:js|json)$).{1,5}$/i, /^vue-audio/]\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js","import bodyParser from 'koa2-formidable'\nconst koaDecodedQuerystring = require('koa-decoded-querystring')\n\nexport default (app) => {\n\tapp.use(bodyParser())\n\tapp.use(koaDecodedQuerystring())\n}\n\n\n// WEBPACK FOOTER //\n// ./server/handlers/index.js","import mongoose from 'mongoose'\nconst debug = require('debug')('app:nuxt')\n\nmongoose.Promise = Promise\n\nexport default (mongoUri) => {\n\tif (!mongoUri) {\n\t\tthrow Error('Mongo uri is undefinded')\n\t}\n\treturn mongoose\n\t\t.connect(mongoUri)\n\t\t.then((mongodb) => {\n\t\t\tdebug('Mongo connected')\n\n\t\t\treturn mongodb\n\t\t})\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/mongoose-connection.js","import passport from 'koa-passport'\nconst LocalStrategy = require('passport-local');\nimport User from './models/user'\n\nconst debug = require('debug')('app:nuxt')\n\nfunction configure(passport) {\n\tconst strategyFunc = function (username, password, done) {\n\t\tUser.authenticate(username, password, function (err, user) {\n\t\t\tif (err) {\n\t\t\t\tconsole.log(err)\n\t\t\t\tdone(err)\n\t\t\t} else if (user) {\n\t\t\t\tconsole.log('Local - Success')\n\t\t\t\tdone(null, user)\n\t\t\t} else {\n\t\t\t\tconsole.log(err)\n\t\t\t\tdone(null, false)\n\t\t\t}\n\t\t})\n\t}\n\tpassport.use(new LocalStrategy(strategyFunc))\n\n\tpassport.serializeUser(function (user, done) {\n\t\tdone(null, user.id)\n\t})\n\tpassport.deserializeUser(function (id, done) {\n\t\tUser.findById(id, function (err, user) {\n\t\t\tdone(err, user)\n\t\t})\n\t})\n}\n\nmodule.exports = {\n\tconfigure\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/passport.js","import Router from 'koa-router'\nconst debug = require('debug')('app:nuxt')\nconst fs = require('fs');\nconst os = require('os');\nconst path = require('path');\nconst multer = require('koa-multer');\nconst upload = multer({ dest: 'uploads/' });\n\nvar cloudinary = require('cloudinary');\n\ncloudinary.config({ \n\tcloud_name: 'rastibolshoi', \n\tapi_key: '374329698237239', \n\tapi_secret: 'Kax6e6xy_FakEfMUc61P_3XUS_I' \n});\n\nimport User from './controllers/user'\nimport Entry from './controllers/entry'\nimport Cartoon from './controllers/cartoon'\n\nimport Audio from './controllers/audio'\n\nimport _Cartoon from './controllers/_cartoon'\n\nimport checkUser from './handlers/checkUser'\nimport putToken from './jwt'\n\nconst router = new Router()\n\nrouter.post('/user', User.signUp)\nrouter.post('/login', User.signIn)\n//\trouter.get('/admin', putToken(), checkUser())\nrouter.get('/custom',\n\tcheckUser(),\n\tasync (ctx, next) => {\n\t\tctx.body = 'Hello!'\n\t\tdebug('page rendered')\n\t})\n\nrouter.post('/addaudiocat', Audio.addCategory)\nrouter.get('/api/audios/getcategories', Audio.getCategories)\nrouter.post('/api/audios/addaudio', Audio.addAudio)\nrouter.get('/api/audios/getaudios', Audio.getAudios)\n\nrouter.post('/addcartoon', Cartoon.add)\nrouter.get('/getcartoons', Cartoon.getAll)\nrouter.get('/api/cartoons/:slug', _Cartoon.getCategoryCartoons)\n//\trouter.get('/cartoon/:slug', Cartoon.getOne)\nrouter.get('/redis', Cartoon.getRedis)\nrouter.get('/mongo', Cartoon.getMongo)\nrouter.get('/getcats', Cartoon.getCategories)\nrouter.get('/getcategories', _Cartoon.getCategories)\nrouter.get('/api/cartoons/page/:id/:category', _Cartoon.getMoreCartoons)\nrouter.get('/api/cartoons', _Cartoon.getCartoons)\nrouter.get('/api/gettagbyname/:category/:tag', _Cartoon.getTagByName)\nrouter.get('/api/getcartoonbyslug/:cartoon', _Cartoon.getCartoonBySlug)\nrouter.get('/api/getcartoonsbytag/:tag', _Cartoon.getCartoonsByTag)\nrouter.get('/gettags', _Cartoon.getTags)\nrouter.post('/settag', _Cartoon.setTag)\nrouter.post('/add', _Cartoon.add)\nrouter.post('/addcategory', _Cartoon.addCategory)\nrouter.post('/addcat', Cartoon.addAgeCategory)\nrouter.post('/addtag', Cartoon.addTag)\nrouter.get('/getmultiseries', _Cartoon.getMultiseries)\nrouter.post('/up', async (ctx, next) => {\n\tconst file = ctx.request.files.file\n\tconst reader = fs.createReadStream(file.path)\n\tconst stream = fs.createWriteStream(path.join('./uploads', file.name))\n\treader.pipe(stream)\n\tconsole.log('uploading %s -> %s', file.name, stream.path)\n\tctx.body = stream.path\n})\nrouter.post('/upload', async (ctx, next) => {\n\tconst file = ctx.request.files.file.path\n\tconst image = await cloudinary.uploader.upload(file)\n\tconsole.log(image.secure_url) \n\tctx.body = image.secure_url\n})\n// Entries routes\nrouter.post('/addentry', Entry.addEntry)\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes.js","import socket from 'socket.io'\nimport redis from 'redis'\nimport slugify from 'slug-generator'\nimport { redisClient, getAsync } from '../handlers/redis'\n\nexport default (server) => {\n\tconst io = socket(server)\n\n\tio.sockets.on('connection', (socket) => {\n\t\tconsole.log('a user connected')\n\t\tsocket.on('setTag', async (msg) => {\n\t\t\tconsole.log(msg.name, msg.description + ', ' + slugify(msg.name) + ', ' + msg.name)\n\t\t\tconst tag = await redisClient.set(slugify(msg.name), msg.description + ', ' + msg.name, redis.print)\n\t\t\tconsole.log(tag)\n\t\t})\n\t\tsocket.on('getTag', async (msg) => {\n\t\t\tconsole.log('MESSAGE', msg)\n\t\t\tconst tag = await getAsync(msg)\n\t\t\tio.emit('tag', tag)\n\t\t})\n\t\tsocket.on('chat message', function(msg) {\n\t\t\tio.emit('chat message', msg)\n\t\t})\n\t\tsocket.on('disconnect', () => {\n\t\t\tconsole.log('user disconnected')\n\t\t})\n\t})\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./server/services/socketio.js","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"koa\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 20\n// module chunks = 0","import Sequelize from 'sequelize'\nimport redis from 'redis'\nimport { getAsync } from '../handlers/redis'\nvar _ = require('lodash')\nimport { Cartoon, Tag, Categories } from '../models/_cartoon'\nconst Op = Sequelize.Op\n\nexport default {\n\tgetCartoonBySlug: async(ctx, next) => {\n\t\ttry {\n\t\t\tconst cartoon = await Cartoon.findOne({\n\t\t\t\twhere: {\n\t\t\t\t\tslug: ctx.params.cartoon\n\t\t\t\t},\n\t\t\t\tinclude: [Tag, Categories]\n\t\t\t})\n\t\t\tctx.body = cartoon\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetTagByName: async(ctx, next) => {\n\t\ttry {\n\t\t\tconst tag = getAsync(ctx.params.tag)\n\t\t\tconst cartoons = Cartoon.findAll({\n\t\t\t\tinclude:[{\n\t\t\t\t\tmodel: Tag,\n\t\t\t\t\twhere: {\n\t\t\t\t\t\tname: ctx.params.tag\n\t\t\t\t\t}\n\n\t\t\t\t}, {\n\t\t\t\t\tmodel: Categories,\n\t\t\t\t\twhere: {\n\t\t\t\t\t\tslug: ctx.params.category\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t\t})\n\t\t\tconst requests = await Promise.all([tag, cartoons])\n\t\t\tconsole.log({ tag: requests[0], cartoons: requests[1] })\n\t\t\tctx.body = { tag: requests[0], cartoons: requests[1] }\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetCartoonsByTag: async (ctx, next) => {\n\t\tctx.set('Content-Type', 'text/plain; charset=utf-8')\n\t\tconsole.log('tag', ctx.params)\n\t\ttry {\n\t\t\tconst tagRequest = await getAsync(ctx.params.tag)\n\t\t\tconst tag = tagRequest.split(', ')\n\t\t\tconst cartoons = await Cartoon.findAll({\n\t\t\t\tinclude: [{\n\t\t\t\t\tmodel: Tag,\n\t\t\t\t\twhere: {\n\t\t\t\t\t\tname: tag[1]\n\t\t\t\t\t}\n\t\t\t\t}, Categories]\n\t\t\t})\n\t\t\tconsole.log(tag[1], cartoons)\n\t\t\tctx.body = { tag: tagRequest, cartoons: cartoons }\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetMultiseries: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst multiseries = await Cartoon.findAll({\n\t\t\t\twhere: { isMultiseries: true }\n\t\t\t})\n\t\t\tctx.body = multiseries\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetCategoryCartoons: async (ctx, next) => {\n\t\tconst limit = 5\n\t\ttry {\n\t\t\tconst category = await Cartoon.findAll({\n\t\t\t\tlimit: limit,\n\t\t\t\torder: [['createdAt', 'DESC']],\n\t\t\t\twhere: { isMultiseries: true },\n\t\t\t\tinclude: [{\n\t\t\t\t\tmodel: Categories,\n\t\t\t\t\twhere: {\n\t\t\t\t\t\tslug: ctx.params.slug\n\t\t\t\t\t}\n\t\t\t\t}, Tag]\n\t\t\t})\n\t\t\tctx.body = category\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetMoreCartoons: async (ctx, next) => {\n\t\tconst limit = 5\n\t\tconst offset = parseInt(ctx.params.id)\n\t\tconst category = ctx.params.category !== 'undefined' ? ctx.params.category : { [Op.ne]: null }\n\t\tconsole.log(category)\n\t\tconst cartoons = await Cartoon.findAll({\n\t\t\toffset: offset * limit,\n\t\t\tlimit: limit,\n\t\t\torder: [['createdAt', 'DESC']],\n\t\t\tinclude: [{\n\t\t\t\tmodel: Tag,\n\t\t\t\tthrough: {\n\t\t\t\t\tattributes: ['tag_id']\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\tmodel: Categories,\n\t\t\t\twhere: {\n\t\t\t\t\tslug: category\n\t\t\t\t}\n\t\t\t}]\n\t\t})\n\t\tctx.body = cartoons\n\t},\n\tgetCartoons: async (ctx, next) => {\n\t\tconst cartoons = await Cartoon.findAll({\n\t\t\torder: [['createdAt', 'DESC']],\n\t\t\tinclude: [{\n\t\t\t\tmodel: Tag,\n\t\t\t\tthrough: {\n\t\t\t\t\tattributes: ['tag_id']\n\t\t\t\t}\n\t\t\t}, Categories]\n\t\t})\n\t\tctx.body = cartoons\n\t},\n\taddCategory: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst categories = await Categories.create(ctx.request.body)\n\t\t\tctx.body = categories\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetCategories: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst categories = await Categories.findAll(\n\t\t\t\t{ order: ['createdAt'] }\n\t\t\t)\n\t\t\tctx.body = categories\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetTags: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst tags = await Tag.findAll({\n\t\t\t\tattributes: ['name'],\n\t\t\t\tgroup: ['name'],\n\t\t\t\traw: true\n\t\t\t})\n\t\t\tctx.body = tags\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tadd: async (ctx, next) => {\n\t\tconst cartoon = await Cartoon.create(ctx.request.body, {\n\t\t\tinclude: [Tag, Categories]\n\t\t})\n\t\tctx.body = cartoon\n\t},\n\tsetTag: async (ctx, next) => {\n\t\tconst tag = await Cartoon.setTags(['tag1', 'tag2'])\n\t\tctx.body = tag\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/_cartoon.js","import { Audio, Category } from '../models/audio'\n\nexport default {\n\tgetAudios: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst audios = await Audio.findAll({\n\t\t\t\tinclude: [Category]\n\t\t\t})\n\t\t\tctx.body = audios\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetCategories: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst categories = await Category.findAll()\n\t\t\tctx.body = categories\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\taddAudio: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst audio = await Audio.create(ctx.request.body, {\n\t\t\t\tinclude: [Category]\n\t\t\t})\n\t\t\tctx.body = audio\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\taddCategory: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst category = await Category.create(ctx.request.body)\n\t\t\tctx.body = category\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/audio.js","import redis from 'redis'\nimport { Cartoon, AgeCategory, Tag } from '../models/cartoon'\nconst debug = require('debug')('app:nuxt')\nimport { redisClient, getAsync } from '../handlers/redis'\n\nexport default {\n\tgetMultiseries: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst multiseries = await Cartoon.find({ isMultiseries: true })\n\t\t\tctx.body = multiseries.map(item => {\n\t\t\t\treturn {\n\t\t\t\t\t_id: item._id,\n\t\t\t\t\ttitle: item.title\n\t\t\t\t}\n\t\t\t})\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetTags: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst tags = await Tag.find().distinct('_id')\n\t\t\tctx.body = tags\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\taddTag: async (ctx, next) => {\n\t\tlet tags = []\n\t\ttry {\n\t\t\tfor (let i in ctx.request.body) {\n\t\t\t\ttags.push({ name:  ctx.request.body[i]})\n\t\t\t}\n\t\t\tconsole.log(tags)\n\t\t\tconst tag = await Tag.create(tags)\n\t\t\tctx.body = tag\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\taddAgeCategory: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst category = new AgeCategory(ctx.request.body)\n\t\t\t\t// name: 'half',\n\t\t\t\t// slug: 'half',\n\t\t\t\t// description: 'halfdesc'\n\t\t\tcategory.save()\n\t\t\tctx.body = category\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetCategories: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst categories = await AgeCategory.find()\n\t\t\tctx.body = categories\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tadd: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst cartoon = await new Cartoon(ctx.request.body)\n\t\t\tcartoon.save()\n\t\t\tctx.body = cartoon\n\t\t\tawait redisClient.set(`cartoon`, cartoon._id.toString(), redis.print);\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetAll: async (ctx, next) => {\n\t\tdebug('start getting')\n\t\tconst cartoons = await Cartoon.find({})\n\t\tif (cartoons) {\n\t\t\tctx.body = cartoons\n\t\t} else {\n\t\t\tctx.body = 'Nothing was found'\n\t\t}\t\n\t\tdebug('finish getting')\n\t},\n\tgetOne: async (ctx, next) => {\n\t\tconst cartoon = await Cartoon.find({ slug: ctx.params.slug })\n\t\tctx.body = cartoon\n\t},\n\tgetRedis: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst el = await getAsync(`cartoon`)\n\t\t\tctx.body = el\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t\tctx.body = e\n\t\t}\n\t},\n\tgetMongo: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst cartoon = await Cartoon.find({ _id: '5a74e75c180fa800bba8fe3e' })\n\t\t\tctx.body = cartoon\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t\tctx.body = e\n\t\t}\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/cartoon.js","import { Entry } from '../models/entry'\nexport default {\n\taddEntry: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst entry = new Entry(ctx.request.body)\n\t\t\tentry.save()\n\t\t\tctx.body = entry\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/entry.js","import redis from 'redis'\nimport passport from 'koa-passport'\nimport User from '../models/user'\nimport jwtService from '../services/jwt-service';\nimport { redisClient, getAsync } from '../handlers/redis'\n\nexport default {\n\tsignUp: async (ctx, next) => {\n\t\tconsole.log(ctx.request.body)\n\t\ttry {\n\t\t\tconst user = await new User(ctx.request.body)\n\t\t\tawait user.save()\n\t\t\tctx.body = user\n\t\t}\n\t\tcatch (err) {\n\t\t\tctx.status = 400;\n\t\t\tctx.body = err\n\t\t\tconsole.log(err)\n\t\t}\n\t},\n\tsignIn: async (ctx, next) => {\n\t\tawait passport.authenticate('local', async (err, user) => {\n\t\t\tconst { email, password } = ctx.request.body;\n\t\t\tif (user == false) {\n\t\t\t\tctx.body = \"Login failed\"\n\t\t\t} else {\n\t\t\t\tconst accessToken = await jwtService.genToken({ id: user._id, username: user.username }, '2m')\n\t\t\t\tconst refreshToken = await jwtService.genToken({ username: user.username }, '30d')\n\t\t\t\tctx.body = { \n\t\t\t\t\taccessToken: accessToken,\n\t\t\t\t\trefreshToken: refreshToken\n\t\t\t\t}\n\t\t\t\tawait redisClient.set(`token_${user.username}`, accessToken, redis.print);\n\t\t\t\tawait redisClient.set(`refreshToken${user.username}`, refreshToken, redis.print);\n\t\t\t\treturn ctx.login(user)\n\t\t\t}\n\t\t})(ctx, next)\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/user.js","import redis from 'redis'\nimport jwtService from '../services/jwt-service'\nimport User from '../models/user'\nimport { redisClient, getAsync } from '../handlers/redis'\n\nconst debug = require('debug')('app:nuxt')\n\nexport default () => async (ctx, next) => {\n\tdebug('token has not recieved')\n\tconst token = ctx.response.header.authorization\n\tlet decoded = null\n\tif (!token) {\n\t\tctx.throw(403, { message: 'Unauth' })\n\t}\n\ttry {\n\t\tdecoded = await jwtService.verify(token)\n\t} catch (e) {\n\t\tconst refreshToken = ctx.response.header['refresh-token']\n\t\tdecoded = await jwtService.verifyNoExp(token)\n\t\tconst confirmedRefreshToken = await getAsync(`refreshToken${decoded.username}`)\n\t\tif (e.name === 'TokenExpiredError' && confirmedRefreshToken === refreshToken) {\n\t\t\tconst newAccessToken = await jwtService.genToken({ id: decoded._id, username: decoded.username }, '2m')\n\t\t\tconst newRefreshToken = await jwtService.genToken({ username: decoded.username }, '30d')\n\t\t\tawait redisClient.set(`token_${decoded.username}`, newAccessToken, redis.print)\n\t\t\tawait redisClient.set(`refreshToken${decoded.username}`, newRefreshToken, redis.print)\n\t\t}\n\t}\n\tdebug('token recieved')\n\ttry {\n\t\tconst user = await User.findOne({ username: decoded.username })\n\t\tdebug('user found', user)\n\t\tnext()\n\t} catch (e) {\n\t\tctx.throw(403, { message: 'Unauth' })\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./server/handlers/checkUser.js","import jwtService from './services/jwt-service'\nimport jwt from 'jsonwebtoken'\n\nimport { redisClient, getAsync } from './handlers/redis'\nimport User from './models/user'\n\nconst debug = require('debug')('app:nuxt')\n\nexport default () => async (ctx, next) => {\n\tdebug('jwt start')\n\tconst { authorization } = ctx.request.header\n\tif (!authorization) {\n\t\tconsole.log('next')\n\t\treturn await next()\n\t}\n\tconst { username } = await jwtService.verify(authorization)\n\tdebug('refresh token verified')\n\ttry {\n\t\tconst token = await getAsync(`token_${username}`)\n\t\tctx.set('Authorization', token)\n\t\tctx.set('Refresh-Token', authorization)\n\t\tdebug('jwt access token recieved')\n\t} catch (e) {\n\t\tctx.throw(401, { message: 'Unauthorized. Invalid Token' })\n\t}\n\tawait next()\n}\n\n\n// WEBPACK FOOTER //\n// ./server/jwt.js","import Sequelize from 'sequelize'\nimport SequelizeSlugify from 'sequelize-slugify'\nimport sequelize from '../postgres-connector'\n\nconst Cartoon = sequelize.define('cartoon', {\n\tcartoonId: { \n\t\tallowNull: false,\n\t\tprimaryKey: true,\n\t\ttype: Sequelize.STRING\n\t},\n\tslug: {\n\t\ttype: Sequelize.STRING,\n\t\tunique: true\n\t},\n\ttitle: Sequelize.STRING,\n\tdescription: Sequelize.TEXT,\n\tunclear: Sequelize.TEXT,\n\tvideo: Sequelize.STRING,\n\tyear: Sequelize.INTEGER,\n\tthumbnail: Sequelize.STRING,\n\tauthor: Sequelize.STRING,\n\tisMultiseries: Sequelize.BOOLEAN,\n\tparentTitleId: Sequelize.STRING\n})\n\nconst Tag = sequelize.define('tags', {\n\tid: {\n\t\ttype: Sequelize.INTEGER,\n\t\tprimaryKey: true,\n\t\tautoIncrement: true\n\t},\n\tname: {\n\t\ttype: Sequelize.STRING\n\t},\n\tslug: {\n\t\ttype: Sequelize.STRING\n\t},\n\tdescription: Sequelize.TEXT\n})\n\nconst Categories = sequelize.define('categories', {\n\tcategoriesId: { \n\t\tprimaryKey: true,\n\t\tautoIncrement: true,\n\t\ttype: Sequelize.INTEGER\n\t},\n\tname: {\n\t\ttype: Sequelize.STRING\n\t},\n\tslug: {\n\t\ttype: Sequelize.STRING,\n\t\tunique: true\n\t},\n\tdescription: Sequelize.TEXT\n})\n\nvar CartoonTags = sequelize.define('cartoontags', {\n\tid : {\n\t\ttype: Sequelize.INTEGER,\n\t\tprimaryKey: true,\n\t\tautoIncrement: true\n\t},\n\ttag_id: {\n\t\ttype: Sequelize.INTEGER,\n\t\tunique: 'item_tag_taggable'\n\t},\n\ttaggable: {\n\t\ttype: Sequelize.STRING,\n\t\tunique: 'item_tag_taggable'\n\t},\n\ttaggable_id: {\n\t\ttype: Sequelize.INTEGER,\n\t\tunique: 'item_tag_taggable',\n\t\treferences: null\n\t}\n})\n\nCartoon.belongsTo(Categories, { foreignKey: 'categoriesId' })\nCategories.hasMany(Cartoon, { foreignKey: 'categoriesId' })\n\nCartoon.belongsToMany(Tag, {\n\tthrough: {\n\t\tmodel: CartoonTags,\n\t\tunique: false,\n\t\tscope: {\n\t\t\ttaggable: 'cartoon'\n\t\t}\n\t},\n\tforeignKey: 'taggable_id',\n\tconstraints: false\n})\nTag.belongsToMany(Cartoon, { \n\tthrough: {\n\t\tmodel: CartoonTags,\n\t\tunique: false\n\t},\n\tforeignKey: 'tag_id',\n\tconstraints: false\n})\nSequelizeSlugify.slugifyModel(Categories, {\n\tsource: ['name']\n})\nSequelizeSlugify.slugifyModel(Cartoon, {\n\tsource: ['title']\n})\nSequelizeSlugify.slugifyModel(Tag, {\n\tsource: ['name']\n})\nexport {\n\tCartoon,\n\tTag,\n\tCartoonTags,\n\tCategories\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/models/_cartoon.js","import Sequelize from 'sequelize'\nimport sequelize from '../postgres-connector'\nimport SequelizeSlugify from 'sequelize-slugify'\n\nconst Audio = sequelize.define('audio', {\n\ttitle: Sequelize.STRING,\n\tthumbnail: Sequelize.STRING,\n\taudio: Sequelize.STRING,\n\tslug: Sequelize.STRING\n})\n\nconst Category = sequelize.define('audiocategories', {\n\tname: {\n\t\ttype: Sequelize.STRING\n\t},\n\tslug: {\n\t\ttype: Sequelize.STRING,\n\t\tunique: true\n\t},\n\tdescription: Sequelize.TEXT\n})\n\nAudio.belongsTo(Category, { foreignKey: 'audiocategoriesId' })\nCategory.hasMany(Audio, { foreignKey: 'audiocategoriesId' })\n\nSequelizeSlugify.slugifyModel(Category, {\n\tsource: ['name']\n})\nSequelizeSlugify.slugifyModel(Audio, {\n\tsource: ['title']\n})\n\nexport {\n\tAudio,\n\tCategory\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/models/audio.js","import mongoose, { Schema } from 'mongoose'\n\nconst ageCategorySchema = new Schema({\n\tname: String,\n\tslug: String,\n\tdescription: String\n})\nconst tagSchema = new Schema({\n\tname: { type: String }\n})\n\nconst cartoonSchema = new Schema({\n\ttitle: { type: String },\n\tslug: { type: String },\n\tisMultiseries: { type: Boolean },\n\tthumbnail: { type: String },\n\tyear: { type: Number },\n\tvideo: { type: String },\n\tmultiseriesTitle: { type: Schema.Types.ObjectId },\n\ttags: { type: [Schema.Types.ObjectId], ref: 'Tag' },\n\tauthor: { type: String },\n\tunclear: { type: String },\n\tdescription: { type: String },\n\tcategory: { type: Schema.Types.ObjectId, ref: 'AgeCategory' }\n})\n\nexport const Tag = mongoose.model('Tag', tagSchema, 'Tags')\nexport const Cartoon = mongoose.model('Cartoon', cartoonSchema, 'Cartoons')\nexport const AgeCategory = mongoose.model('AgeCategory', ageCategorySchema, 'Categories')\n\n\n\n// WEBPACK FOOTER //\n// ./server/models/cartoon.js","import mongoose, { Schema } from 'mongoose'\n\nconst entrySchema = new Schema({\n\ttitle: { type: String },\n\tthumbnail: { type: String },\n\tcategory: { type: String },\n\tcontent: { type: String },\n\tslug: { type: String }\n})\n\nexport const Entry = mongoose.model('Entry', entrySchema, 'Entries')\n\n\n\n// WEBPACK FOOTER //\n// ./server/models/entry.js","module.exports = require(\"bcrypt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bcrypt\"\n// module id = 32\n// module chunks = 0","module.exports = require(\"cloudinary\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cloudinary\"\n// module id = 33\n// module chunks = 0","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 34\n// module chunks = 0","module.exports = require(\"koa-decoded-querystring\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-decoded-querystring\"\n// module id = 35\n// module chunks = 0","module.exports = require(\"koa-multer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-multer\"\n// module id = 36\n// module chunks = 0","module.exports = require(\"koa-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-router\"\n// module id = 37\n// module chunks = 0","module.exports = require(\"koa2-formidable\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa2-formidable\"\n// module id = 38\n// module chunks = 0","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 39\n// module chunks = 0","module.exports = require(\"mongoose-unique-validator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose-unique-validator\"\n// module id = 40\n// module chunks = 0","module.exports = require(\"os\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"os\"\n// module id = 41\n// module chunks = 0","module.exports = require(\"passport-local\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport-local\"\n// module id = 42\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 43\n// module chunks = 0","module.exports = require(\"slug-generator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"slug-generator\"\n// module id = 44\n// module chunks = 0","module.exports = require(\"socket.io\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"socket.io\"\n// module id = 45\n// module chunks = 0","module.exports = require(\"util\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"util\"\n// module id = 46\n// module chunks = 0","import Koa from 'koa'\nimport http from 'http'\nimport { Nuxt, Builder } from 'nuxt'\nimport passport from 'koa-passport'\nimport router from './routes'\nconst debug = require('debug')('app:nuxt')\nimport mongooseConnector from './mongoose-connection'\nimport initHandlers from './handlers'\nimport { MONGO_URI } from './config'\nimport websockets from './services/socketio'\nimport sequelize from './postgres-connector'\n\nasync function start () {\n\tconst app = new Koa()\n\tconst host = process.env.HOST || '127.0.0.1'\n\tconst port = process.env.PORT || 3000\n\n\t// Import and Set Nuxt.js options\n\tlet config = require('../nuxt.config.js')\n\tconfig.dev = !(app.env === 'production')\n\n\t// Instantiate nuxt.js\n\tconst nuxt = new Nuxt(config)\n\n\t// Build in development\n\tif (config.dev) {\n\t\tconst builder = new Builder(nuxt)\n\t\tawait builder.build()\n\t}\n\t//  Passport\n\tapp.use(passport.initialize())\n\trequire('./passport').configure(passport)\n\n\t// Initial handlers\n\tinitHandlers(app)\n\n\t// JWT Handler\n\t//  app.use(jwtHandler())\n\n\t// Mongoose\n\tmongooseConnector(MONGO_URI)\n\n\t// Postgres / Sequelize\n\tsequelize\n\t.authenticate()\n\t.then(() => {\n\t\tconsole.log('Connection has been established successfully.')\n\t})\n\t.catch(err => {\n\t\tconsole.error('Unable to connect to the database:', err)\n\t})\n\n\t// Router\n\tapp.use(async (ctx, next) => {\n\t\tawait router.routes()(ctx, next)\n\t})\n\n\tapp.use(async (ctx, next) => {\n\t\tawait next()\n\t\tctx.status = 200 // koa defaults to 404 when it sees that status is unset\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tctx.res.on('close', resolve)\n\t\t\tctx.res.on('finish', resolve)\n\t\t\tnuxt.render(ctx.req, ctx.res, promise => {\n\t\t\t// nuxt.render passes a rejected promise into callback on error.\n\t\t\t\tpromise.then(resolve).catch(reject)\n\t\t\t})\n\t\t})\n\t})\n\n\t// socket.io\n\tconst server = http.createServer(app.callback())\n\twebsockets(server)\n\n\t// listen\n\tserver.listen(port, host)\n\tdebug('Server listening on ' + host + ':' + port) // eslint-disable-line no-console\n}\n\nstart()\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","module.exports = require(\"webpack-node-externals\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-node-externals\"\n// module id = 48\n// module chunks = 0"],"sourceRoot":""}