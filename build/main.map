{"version":3,"sources":["webpack:///webpack/bootstrap 965d26641f70cd238635","webpack:///./server/postgres-connector.js","webpack:///external \"sequelize\"","webpack:///external \"debug\"","webpack:///external \"redis\"","webpack:///external \"koa-passport\"","webpack:///./server/config.js","webpack:///./server/handlers/redis.js","webpack:///./server/models/others.js","webpack:///./server/models/user.js","webpack:///external \"sequelize-slugify\"","webpack:///./server/models/audio.js","webpack:///./server/models/cartoon.js","webpack:///./server/services/jwt-service.js","webpack:///./nuxt.config.js","webpack:///./server/handlers/index.js","webpack:///./server/passport.js","webpack:///./server/routes.js","webpack:///external \"http\"","webpack:///external \"koa\"","webpack:///external \"nuxt\"","webpack:///./server/controllers/advice.js","webpack:///./server/controllers/audio.js","webpack:///./server/controllers/cartoon.js","webpack:///./server/controllers/others.js","webpack:///./server/controllers/user.js","webpack:///./server/handlers/checkUser.js","webpack:///./server/models/advice.js","webpack:///external \"bcrypt\"","webpack:///external \"cloudinary\"","webpack:///external \"fs\"","webpack:///external \"jsonwebtoken\"","webpack:///external \"koa-decoded-querystring\"","webpack:///external \"koa-router\"","webpack:///external \"koa2-formidable\"","webpack:///external \"lodash\"","webpack:///external \"mongoose\"","webpack:///external \"mongoose-unique-validator\"","webpack:///external \"passport-local\"","webpack:///external \"path\"","webpack:///external \"slug-generator\"","webpack:///external \"util\"","webpack:///external \"webpack-node-externals\"","webpack:///./server/index.js"],"names":["sequelize","dialect","sync","REDIS_URL","DATABASE_URL","process","env","REDIS_KEY","JWT_KEY","redisClient","redis","createClient","on","err","console","log","promisify","require","getAsync","get","bind","Other","define","title","Sequelize","STRING","thumbnail","content","TEXT","slug","Category","name","type","unique","description","belongsTo","foreignKey","hasMany","SequelizeSlugify","slugifyModel","source","mongoose","plugin","userSchema","username","String","required","role","default","email","password","pre","next","isModified","salt","bcrypt","genSaltSync","hashSync","methods","authenticate","compareSync","passwordHash","statics","done","findOne","user","model","Audio","audio","Cartoon","cartoonId","allowNull","primaryKey","unclear","video","year","INTEGER","author","isMultiseries","BOOLEAN","parentTitleId","Tag","id","autoIncrement","Categories","categoriesId","CartoonTags","tag_id","taggable","taggable_id","references","belongsToMany","through","scope","constraints","genToken","data","expiration","jwt","sign","expiresIn","verify","token","verifyNoExp","ignoreExpiration","nodeExternals","module","exports","head","meta","charset","hid","link","rel","href","siteTitle","plugins","src","ssr","css","loading","color","build","vendor","extractCSS","extend","config","ctx","isClient","rules","push","enforce","test","loader","exclude","isServer","externals","whitelist","koaDecodedQuerystring","app","use","bodyParser","LocalStrategy","debug","configure","passport","strategyFunc","User","serializeUser","deserializeUser","findById","fs","path","cloudinary","cloud_name","api_key","api_secret","CartoonModel","AudioModel","OthersModel","router","post","signUp","signIn","checkUser","body","cartoons","findAll","order","attributes","include","audios","others","arr","sort","compare","a","b","dateA","Date","createdAt","dateB","e","Advice","addAdvice","getAdvices","patch","updateAdvice","Others","addCategory","getCategories","addOther","getOthers","getOther","getOthersByCategory","updateOther","getByCategory","addAudio","getAudios","getTag","setTag","multiseries","getCategoryCartoons","getMoreCartoons","getCartoons","updateCategory","getTagByName","getCartoonBySlug","getCartoonsByTag","getTags","add","getMultiseries","file","request","files","reader","createReadStream","stream","createWriteStream","join","pipe","image","uploader","upload","secure_url","advice","where","updates","updateAttributes","advices","create","params","category","categories","_","Op","tag","set","slugify","print","cartoon","requests","Promise","all","tagRequest","split","limit","offset","parseInt","ne","tags","group","raw","other","save","status","accessToken","jwtService","_id","refreshToken","login","response","header","authorization","decoded","throw","message","confirmedRefreshToken","newAccessToken","newRefreshToken","host","HOST","port","PORT","dev","nuxt","builder","initialize","initHandlers","then","catch","error","routes","resolve","reject","res","render","req","promise","server","http","createServer","callback","listen","start"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 42);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 965d26641f70cd238635","import Sequalize from 'sequelize'\nimport { DATABASE_URL } from './config'\n\nconst sequelize = new Sequalize(DATABASE_URL, {\n\tdialect: 'postgres'\n})\nsequelize.sync()\nexport default sequelize\n\n\n\n// WEBPACK FOOTER //\n// ./server/postgres-connector.js","module.exports = require(\"sequelize\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"sequelize\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"debug\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"debug\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"redis\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redis\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"koa-passport\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-passport\"\n// module id = 4\n// module chunks = 0","let REDIS_URL, DATABASE_URL\n\nif (process.env.NODE_ENV === 'production') {\n\tREDIS_URL = process.env.REDIS_URL\n\tDATABASE_URL = process.env.DATABASE_URL\n} else {\n\tREDIS_URL = 'redis://localhost:6379'\n\tDATABASE_URL = 'postgres://postgres:6354825107@127.0.0.1:5432/postgres'\n}\nconst REDIS_KEY = 'DRKlPeBHbgr0FUSs'\nconst JWT_KEY = 'dFTvn3RxVsXE8ZJafmcQSi7fSAL4L9i8'\n\nexport {\n\tREDIS_URL,\n\tJWT_KEY,\n\tREDIS_KEY,\n\tDATABASE_URL\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./server/config.js","import redis from 'redis'\nimport { REDIS_URL } from '../config'\n\nexport const redisClient = redis.createClient(REDIS_URL)\n\nredisClient.on('error', function (err) {\n\tconsole.log('Error ' + err)\n})\n\nconst { promisify } = require('util')\nexport const getAsync = promisify(redisClient.get).bind(redisClient)\n\n\n\n\n// WEBPACK FOOTER //\n// ./server/handlers/redis.js","import Sequelize from 'sequelize'\nimport sequelize from '../postgres-connector'\nimport SequelizeSlugify from 'sequelize-slugify'\n\nconst Other = sequelize.define('others', {\n\ttitle: Sequelize.STRING,\n\tthumbnail: Sequelize.STRING,\n\tcontent: Sequelize.TEXT,\n\tslug: Sequelize.STRING\n})\n\nconst Category = sequelize.define('otherscategories', {\n\tname: {\n\t\ttype: Sequelize.STRING\n\t},\n\tslug: {\n\t\ttype: Sequelize.STRING,\n\t\tunique: true\n\t},\n\tdescription: Sequelize.TEXT\n})\n\nOther.belongsTo(Category, { foreignKey: 'otherscategoriesId' })\nCategory.hasMany(Other, { foreignKey: 'otherscategoriesId' })\n\nSequelizeSlugify.slugifyModel(Other, {\n\tsource: ['title']\n})\n\nexport {\n\tOther,\n\tCategory\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/models/others.js","import mongoose, { Schema } from 'mongoose'\nimport bcrypt from 'bcrypt'\nimport uniqueValidator from 'mongoose-unique-validator'\n\nmongoose.plugin(uniqueValidator)\n\nconst userSchema = new Schema({\n\tusername: { type: String, unique: true, required: true },\n\trole: { type: String, default: 'user', required: true },\n\temail: { type: String, unique: true, required: true },\n\tpassword: { type: String, required: true }\n})\n\nuserSchema.pre('save', function (next) {\n\tif (!this.isModified('password')) {\n\t\treturn next()\n\t}\n\tconst salt = bcrypt.genSaltSync(10)\n\n\tthis.password = bcrypt.hashSync(this.password, salt)\n\tnext()\n})\n\nuserSchema.methods.authenticate = function (password) {\n\treturn bcrypt.compareSync(password, this.passwordHash)\n}\nuserSchema.statics.authenticate = function (username, password, done) {\n\tconsole.log({ username: username, password: password })\n\tthis.findOne({ username: username }, (err, user) => {\n\t\tif (err) {\n\t\t\tconsole.log('Error to check', err)\n\t\t\tdone(err)\n\t\t} else if (user) {\n\t\t\tconsole.log('Success!', user)\n\t\t\tdone(null, user)\n\t\t} else {\n\t\t\tconsole.log('Something else')\n\t\t\tdone(null, false)\n\t\t}\n\t})\n}\n\nexport default mongoose.model('user', userSchema);\n\n\n// WEBPACK FOOTER //\n// ./server/models/user.js","module.exports = require(\"sequelize-slugify\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"sequelize-slugify\"\n// module id = 9\n// module chunks = 0","import Sequelize from 'sequelize'\nimport sequelize from '../postgres-connector'\nimport SequelizeSlugify from 'sequelize-slugify'\n\nconst Audio = sequelize.define('audio', {\n\ttitle: Sequelize.STRING,\n\tthumbnail: Sequelize.STRING,\n\taudio: Sequelize.STRING,\n\tslug: Sequelize.STRING\n})\n\nconst Category = sequelize.define('audiocategories', {\n\tname: {\n\t\ttype: Sequelize.STRING\n\t},\n\tslug: {\n\t\ttype: Sequelize.STRING,\n\t\tunique: true\n\t},\n\tdescription: Sequelize.TEXT\n})\n\nAudio.belongsTo(Category, { foreignKey: 'audiocategoriesId' })\nCategory.hasMany(Audio, { foreignKey: 'audiocategoriesId' })\n\nSequelizeSlugify.slugifyModel(Category, {\n\tsource: ['name']\n})\nSequelizeSlugify.slugifyModel(Audio, {\n\tsource: ['title']\n})\n\nexport {\n\tAudio,\n\tCategory\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/models/audio.js","import Sequelize from 'sequelize'\nimport SequelizeSlugify from 'sequelize-slugify'\nimport sequelize from '../postgres-connector'\n\nconst Cartoon = sequelize.define('cartoon', {\n\tcartoonId: { \n\t\tallowNull: false,\n\t\tprimaryKey: true,\n\t\ttype: Sequelize.STRING\n\t},\n\tslug: {\n\t\ttype: Sequelize.STRING,\n\t\tunique: true\n\t},\n\ttitle: Sequelize.STRING,\n\tdescription: Sequelize.TEXT,\n\tunclear: Sequelize.TEXT,\n\tvideo: Sequelize.STRING,\n\tyear: Sequelize.INTEGER,\n\tthumbnail: Sequelize.STRING,\n\tauthor: Sequelize.STRING,\n\tisMultiseries: Sequelize.BOOLEAN,\n\tparentTitleId: Sequelize.STRING\n})\n\nconst Tag = sequelize.define('tags', {\n\tid: {\n\t\ttype: Sequelize.INTEGER,\n\t\tprimaryKey: true,\n\t\tautoIncrement: true\n\t},\n\tname: {\n\t\ttype: Sequelize.STRING\n\t}\n})\n\nconst Categories = sequelize.define('categories', {\n\tcategoriesId: { \n\t\tprimaryKey: true,\n\t\tautoIncrement: true,\n\t\ttype: Sequelize.INTEGER\n\t},\n\tname: {\n\t\ttype: Sequelize.STRING\n\t},\n\tslug: {\n\t\ttype: Sequelize.STRING,\n\t\tunique: true\n\t},\n\tdescription: Sequelize.TEXT\n})\n\nvar CartoonTags = sequelize.define('cartoontags', {\n\tid : {\n\t\ttype: Sequelize.INTEGER,\n\t\tprimaryKey: true,\n\t\tautoIncrement: true\n\t},\n\ttag_id: {\n\t\ttype: Sequelize.INTEGER,\n\t\tunique: 'item_tag_taggable'\n\t},\n\ttaggable: {\n\t\ttype: Sequelize.STRING,\n\t\tunique: 'item_tag_taggable'\n\t},\n\ttaggable_id: {\n\t\ttype: Sequelize.INTEGER,\n\t\tunique: 'item_tag_taggable',\n\t\treferences: null\n\t}\n})\n\nCartoon.belongsTo(Categories, { foreignKey: 'categoriesId' })\nCategories.hasMany(Cartoon, { foreignKey: 'categoriesId' })\n\nCartoon.belongsToMany(Tag, {\n\tthrough: {\n\t\tmodel: CartoonTags,\n\t\tunique: false,\n\t\tscope: {\n\t\t\ttaggable: 'cartoon'\n\t\t}\n\t},\n\tforeignKey: 'taggable_id',\n\tconstraints: false\n})\nTag.belongsToMany(Cartoon, { \n\tthrough: {\n\t\tmodel: CartoonTags,\n\t\tunique: false\n\t},\n\tforeignKey: 'tag_id',\n\tconstraints: false\n})\nSequelizeSlugify.slugifyModel(Categories, {\n\tsource: ['name']\n})\nSequelizeSlugify.slugifyModel(Cartoon, {\n\tsource: ['title']\n})\nexport {\n\tCartoon,\n\tTag,\n\tCartoonTags,\n\tCategories\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/models/cartoon.js","import jwt from 'jsonwebtoken';\nimport { JWT_KEY } from '../config'\n\nexport default {\n  genToken(data, expiration) {\n    return jwt.sign(data, JWT_KEY, { expiresIn: expiration })\n  },\n  verify(token) {\n    return jwt.verify(token, JWT_KEY)\n  },\n  verifyNoExp(token) {\n    return jwt.verify(token, JWT_KEY, { ignoreExpiration: true })\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./server/services/jwt-service.js","const nodeExternals = require('webpack-node-externals')\n\nmodule.exports = {\n\t/*\n\t** Headers of the page\n\t*/\n\thead: {\n\t\ttitle: 'starter',\n\t\tmeta: [\n\t\t\t{ charset: 'utf-8' },\n\t\t\t{ name: 'viewport', content: 'width=device-width, initial-scale=1' },\n\t\t\t{ hid: 'description', name: 'description', content: 'Nuxt.js project' }\n\t\t],\n\t\tlink: [\n\t\t\t{ rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' },\n\t\t\t{ rel: 'stylesheet', href: 'https://fonts.googleapis.com/css?family=Material+Icons|Roboto+Mono:500|PT+Sans:400,700|Source+Sans+Pro:300,400,600,700&amp;subset=cyrillic' }\n\t\t]\n\t},\n\tenv: {\n\t\tsiteTitle: 'Растибольшой.ком'\n\t},\n\tplugins: [\n\t\t{ src: '~/plugins/vue-notifications.js', ssr: false },\n\t\t{ src: '~/plugins/vue-lazyload.js', ssr: false }\n\t],\n\t/*\n\t** Global CSS\n\t*/\n\tcss: ['~assets/css/main.css'],\n\t/*\n\t** Customize the progress-bar color\n\t*/\n\tloading: { color: '#fa8925' },\n\t/*\n\t ** Build configuration\n\t */\n\tbuild: {\n\t\tvendor: ['vue-notifications', 'vue2-editor'],\n\t\textractCSS: true,\n\t\t/*\n\t\t ** Run ESLINT on save\n\t\t */\n\t\textend (config, ctx) {\n\t\t\tif (ctx.isClient) {\n\t\t\t\tconfig.module.rules.push({\n\t\t\t\t\tenforce: 'pre',\n\t\t\t\t\ttest: /\\.(js|vue)$/,\n\t\t\t\t\tloader: 'eslint-loader',\n\t\t\t\t\texclude: /(node_modules)/\n\t\t\t\t})\n\t\t\t}\n\t\t\tif (ctx.isServer) {\n\t\t\t\tconfig.externals = [\n\t\t\t\t\tnodeExternals ({\n\t\t\t\t\t\twhitelist: [/es6-promise|\\.(?!(?:js|json)$).{1,5}$/i, /^vue-audio/]\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js","import bodyParser from 'koa2-formidable'\nconst koaDecodedQuerystring = require('koa-decoded-querystring')\n\nexport default (app) => {\n\tapp.use(bodyParser())\n\tapp.use(koaDecodedQuerystring())\n}\n\n\n// WEBPACK FOOTER //\n// ./server/handlers/index.js","import passport from 'koa-passport'\nconst LocalStrategy = require('passport-local');\nimport User from './models/user'\n\nconst debug = require('debug')('app:nuxt')\n\nfunction configure(passport) {\n\tconst strategyFunc = function (username, password, done) {\n\t\tUser.authenticate(username, password, function (err, user) {\n\t\t\tif (err) {\n\t\t\t\tconsole.log(err)\n\t\t\t\tdone(err)\n\t\t\t} else if (user) {\n\t\t\t\tconsole.log('Local - Success')\n\t\t\t\tdone(null, user)\n\t\t\t} else {\n\t\t\t\tconsole.log(err)\n\t\t\t\tdone(null, false)\n\t\t\t}\n\t\t})\n\t}\n\tpassport.use(new LocalStrategy(strategyFunc))\n\n\tpassport.serializeUser(function (user, done) {\n\t\tdone(null, user.id)\n\t})\n\tpassport.deserializeUser(function (id, done) {\n\t\tUser.findById(id, function (err, user) {\n\t\t\tdone(err, user)\n\t\t})\n\t})\n}\n\nmodule.exports = {\n\tconfigure\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/passport.js","import Router from 'koa-router'\nimport sequelize from './postgres-connector'\nconst debug = require('debug')('app:nuxt')\nconst fs = require('fs')\nconst path = require('path')\n\nvar cloudinary = require('cloudinary')\n\ncloudinary.config({\n\tcloud_name: 'rastibolshoi',\n\tapi_key: '374329698237239',\n\tapi_secret: 'Kax6e6xy_FakEfMUc61P_3XUS_I'\n})\n\nimport Advice from './controllers/advice'\nimport User from './controllers/user'\nimport Cartoon from './controllers/cartoon'\n\nimport Audio from './controllers/audio'\nimport Others from './controllers/others'\n\nimport checkUser from './handlers/checkUser'\nimport { Other } from './models/others'\n\nconst CartoonModel = require('./models/cartoon')\nconst AudioModel = require('./models/audio')\nconst OthersModel = require('./models/others')\n\nconst router = new Router()\n\nrouter.post('/user', User.signUp)\nrouter.post('/login', User.signIn)\n//\trouter.get('/admin', putToken(), checkUser())\nrouter.get('/custom',\n\tcheckUser(),\n\tasync (ctx, next) => {\n\t\tctx.body = 'Hello!'\n\t\tdebug('page rendered')\n\t})\n\nrouter.get('/api/all/items', async (ctx, next) => {\n\ttry {\n\t\tconsole.log(CartoonModel)\n\t\tconst cartoons = await CartoonModel.Cartoon.findAll({\n\t\t\torder: [['createdAt', 'DESC']],\n\t\t\tattributes: ['thumbnail', 'title', 'slug', 'createdAt'],\n\t\t\tinclude: [CartoonModel.Categories]\n\t\t})\n\t\tconst audios = await AudioModel.Audio.findAll({\n\t\t\tattributes: ['thumbnail', 'title', 'slug', 'createdAt'],\n\t\t\tinclude: [{\n\t\t\t\tmodel: AudioModel.Category\n\t\t\t}]\n\t\t})\n\t\tconst others = await OthersModel.Other.findAll({\n\t\t\tattributes: ['thumbnail', 'title', 'slug', 'createdAt'],\n\t\t\tinclude: [OthersModel.Category]\n\t\t})\n\t\tconst arr = [\n\t\t\t...cartoons,\n\t\t\t...audios,\n\t\t\t...others\n\t\t]\n\t\tconsole.log(arr)\n\t\tarr.sort(function compare(a, b) {\n\t\t\tvar dateA = new Date(a.createdAt)\n\t\t\tvar dateB = new Date(b.createdAt)\n\t\t\treturn dateB - dateA\n\t\t})\n\t\tctx.body = arr\n\t} catch (e) {\n\t\tconsole.log(e)\n\t}\n})\n\nrouter.post('/api/advices/add', Advice.addAdvice)\nrouter.get('/api/advices', Advice.getAdvices)\nrouter.patch('/api/advices/edit', Advice.updateAdvice)\n\nrouter.post('/api/others/addcategory', Others.addCategory)\nrouter.get('/api/others/getcategories', Others.getCategories)\nrouter.post('/api/others/addother', Others.addOther)\nrouter.get('/api/others/getothers', Others.getOthers)\nrouter.get('/api/others/:slug', Others.getOther)\nrouter.get('/api/others/getbycategory/:category', Others.getOthersByCategory)\nrouter.patch('/api/others/updateother', Others.updateOther)\n\nrouter.get('/api/audios/category/:category', Audio.getByCategory)\nrouter.post('/addaudiocat', Audio.addCategory)\nrouter.get('/api/audios/getcategories', Audio.getCategories)\nrouter.post('/api/audios/addaudio', Audio.addAudio)\nrouter.get('/api/audios/getaudios', Audio.getAudios)\n\nrouter.get('/api/cartoons/gettag/:name', Cartoon.getTag)\nrouter.post('/api/cartoons/settag', Cartoon.setTag)\nrouter.get('/api/cartoons/multiseries/:id', Cartoon.multiseries)\n\nrouter.get('/api/cartoons/category/:slug', Cartoon.getCategoryCartoons)\n//\trouter.get('/cartoon/:slug', Cartoon.getOne)\n\nrouter.get('/api/cartoons/categories', Cartoon.getCategories)\nrouter.get('/api/cartoons/page/:id/:category', Cartoon.getMoreCartoons)\nrouter.get('/api/cartoons', Cartoon.getCartoons)\nrouter.patch('/api/cartoons/updatecat/:id', Cartoon.updateCategory)\nrouter.get('/api/gettagbyname/:category/:tag', Cartoon.getTagByName)\nrouter.get('/api/getcartoonbyslug/:cartoon', Cartoon.getCartoonBySlug)\nrouter.get('/api/getcartoonsbytag/:tag', Cartoon.getCartoonsByTag)\nrouter.get('/api/cartoons/tags', Cartoon.getTags)\nrouter.post('/settag', Cartoon.setTag)\nrouter.post('/add', Cartoon.add)\nrouter.post('/addcategory', Cartoon.addCategory)\nrouter.get('/getmultiseries', Cartoon.getMultiseries)\nrouter.post('/up', async (ctx, next) => {\n\tconst file = ctx.request.files.file\n\tconst reader = fs.createReadStream(file.path)\n\tconst stream = fs.createWriteStream(path.join('./uploads', file.name))\n\treader.pipe(stream)\n\tconsole.log('uploading %s -> %s', file.name, stream.path)\n\tctx.body = stream.path\n})\nrouter.post('/upload', async (ctx, next) => {\n\ttry {\n\t\tconst file = ctx.request.files.file.path\n\t\tconst image = await cloudinary.uploader.upload(file)\n\t\tconsole.log(image.secure_url) \n\t\tctx.body = image.secure_url\n\t} catch (e) {\n\t\tconsole.log(e)\n\t}\n})\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes.js","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 17\n// module chunks = 0","module.exports = require(\"koa\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 19\n// module chunks = 0","import { Advice } from '../models/advice'\n\nexport default {\n\tupdateAdvice: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst advice = await Advice.findOne({\n\t\t\t\twhere: {\n\t\t\t\t\tid: ctx.request.body.id\n\t\t\t\t}\n\t\t\t})\n\t\t\tconst updates = await advice.updateAttributes(ctx.request.body)\n\t\t\tctx.body = updates\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetAdvices: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst advices = await Advice.findAll({\n\t\t\t\tattributes: ['content', 'id']\n\t\t\t})\n\t\t\tctx.body = advices\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\taddAdvice: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst advice  = await Advice.create(ctx.request.body)\n\t\t\tctx.body = advice\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/advice.js","import { Audio, Category } from '../models/audio'\n\nexport default {\n\tgetByCategory: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst audios = await Audio.findAll({\n\t\t\t\tinclude: [{\n\t\t\t\t\tmodel: Category,\n\t\t\t\t\twhere: {\n\t\t\t\t\t\tslug: ctx.params.category\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t\t})\n\t\t\tctx.body = audios\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetAudios: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst audios = await Audio.findAll({\n\t\t\t\tinclude: [Category]\n\t\t\t})\n\t\t\tctx.body = audios\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetCategories: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst categories = await Category.findAll()\n\t\t\tctx.body = categories\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\taddAudio: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst audio = await Audio.create(ctx.request.body, {\n\t\t\t\tinclude: [Category]\n\t\t\t})\n\t\t\tctx.body = audio\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\taddCategory: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst category = await Category.create(ctx.request.body)\n\t\t\tctx.body = category\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/audio.js","import Sequelize from 'sequelize'\nimport redis from 'redis'\nimport { getAsync, redisClient } from '../handlers/redis'\nimport slugify from 'slug-generator'\nvar _ = require('lodash')\nimport { Cartoon, Tag, Categories } from '../models/cartoon'\nconst Op = Sequelize.Op\n\nexport default {\n\tmultiseries: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst cartoons = await Cartoon.findAll({\n\t\t\t\tattributes: ['thumbnail', 'title', 'slug'],\n\t\t\t\twhere: {\n\t\t\t\t\tparentTitleId: ctx.params.id\n\t\t\t\t}\n\t\t\t})\n\t\t\tctx.body = cartoons\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tupdateCategory: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst category = await Categories.findOne({\n\t\t\t\twhere: {\n\t\t\t\t\tcategoriesId: ctx.params.id\n\t\t\t\t}\n\t\t\t})\n\t\t\tconst updates = await category.updateAttributes(ctx.request.body)\n\t\t\tctx.body = updates\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tsetTag: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst { body } = ctx.request\n\t\t\tconst tag = await redisClient.set(slugify(body.name), body.description + ', ' + body.name, redis.print)\n\t\t\tconsole.log(tag)\n\t\t\tctx.body = tag\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetTag: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst tag = await getAsync(ctx.params.name)\n\t\t\tctx.body = tag\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetCartoonBySlug: async(ctx, next) => {\n\t\ttry {\n\t\t\tconst cartoon = await Cartoon.findOne({\n\t\t\t\twhere: {\n\t\t\t\t\tslug: ctx.params.cartoon\n\t\t\t\t},\n\t\t\t\tinclude: [Tag, Categories]\n\t\t\t})\n\t\t\tctx.body = cartoon\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetTagByName: async(ctx, next) => {\n\t\ttry {\n\t\t\tconst tag = getAsync(ctx.params.tag)\n\t\t\tconst cartoons = Cartoon.findAll({\n\t\t\t\tinclude:[{\n\t\t\t\t\tmodel: Tag,\n\t\t\t\t\twhere: {\n\t\t\t\t\t\tname: ctx.params.tag\n\t\t\t\t\t}\n\n\t\t\t\t}, {\n\t\t\t\t\tmodel: Categories,\n\t\t\t\t\twhere: {\n\t\t\t\t\t\tslug: ctx.params.category\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t\t})\n\t\t\tconst requests = await Promise.all([tag, cartoons])\n\t\t\tconsole.log({ tag: requests[0], cartoons: requests[1] })\n\t\t\tctx.body = { tag: requests[0], cartoons: requests[1] }\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetCartoonsByTag: async (ctx, next) => {\n\t\tctx.set('Content-Type', 'text/plain; charset=utf-8')\n\t\tconsole.log('tag', ctx.params)\n\t\ttry {\n\t\t\tconst tagRequest = await getAsync(ctx.params.tag)\n\t\t\tconst tag = tagRequest.split(', ')\n\t\t\tconst cartoons = await Cartoon.findAll({\n\t\t\t\tinclude: [{\n\t\t\t\t\tmodel: Tag,\n\t\t\t\t\twhere: {\n\t\t\t\t\t\tname: tag[1]\n\t\t\t\t\t}\n\t\t\t\t}, Categories]\n\t\t\t})\n\t\t\tconsole.log(tag[1], cartoons)\n\t\t\tctx.body = { tag: tagRequest, cartoons: cartoons }\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetMultiseries: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst multiseries = await Cartoon.findAll({\n\t\t\t\twhere: { isMultiseries: true }\n\t\t\t})\n\t\t\tctx.body = multiseries\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetCategoryCartoons: async (ctx, next) => {\n\t\tconst limit = 5\n\t\ttry {\n\t\t\tconst category = await Cartoon.findAll({\n\t\t\t\tlimit: limit,\n\t\t\t\torder: [['createdAt', 'DESC']],\n\t\t\t\twhere: { isMultiseries: true },\n\t\t\t\tinclude: [{\n\t\t\t\t\tmodel: Categories,\n\t\t\t\t\twhere: {\n\t\t\t\t\t\tslug: ctx.params.slug\n\t\t\t\t\t}\n\t\t\t\t}, Tag]\n\t\t\t})\n\t\t\tctx.body = category\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetMoreCartoons: async (ctx, next) => {\n\t\tconst limit = 5\n\t\tconst offset = parseInt(ctx.params.id)\n\t\tconst category = ctx.params.category !== 'undefined' ? ctx.params.category : { [Op.ne]: null }\n\t\tconsole.log(category)\n\t\tconst cartoons = await Cartoon.findAll({\n\t\t\toffset: offset * limit,\n\t\t\tlimit: limit,\n\t\t\torder: [['createdAt', 'DESC']],\n\t\t\tinclude: [{\n\t\t\t\tmodel: Tag,\n\t\t\t\tthrough: {\n\t\t\t\t\tattributes: ['tag_id']\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\tmodel: Categories,\n\t\t\t\twhere: {\n\t\t\t\t\tslug: category\n\t\t\t\t}\n\t\t\t}]\n\t\t})\n\t\tctx.body = cartoons\n\t},\n\tgetCartoons: async (ctx, next) => {\n\t\tconst cartoons = await Cartoon.findAll({\n\t\t\torder: [['createdAt', 'DESC']],\n\t\t\tinclude: [{\n\t\t\t\tmodel: Tag,\n\t\t\t\tthrough: {\n\t\t\t\t\tattributes: ['tag_id']\n\t\t\t\t}\n\t\t\t}, Categories]\n\t\t})\n\t\tctx.body = cartoons\n\t},\n\taddCategory: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst categories = await Categories.create(ctx.request.body)\n\t\t\tctx.body = categories\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetCategories: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst categories = await Categories.findAll(\n\t\t\t\t{ order: ['createdAt'] }\n\t\t\t)\n\t\t\tctx.body = categories\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetTags: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst tags = await Tag.findAll({\n\t\t\t\tattributes: ['name'],\n\t\t\t\tgroup: ['name'],\n\t\t\t\traw: true\n\t\t\t})\n\t\t\tctx.body = tags\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tadd: async (ctx, next) => {\n\t\tconst cartoon = await Cartoon.create(ctx.request.body, {\n\t\t\tinclude: [Tag, Categories]\n\t\t})\n\t\tctx.body = cartoon\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/cartoon.js","import { Other, Category } from '../models/others'\n\nexport default {\n\tupdateOther: async (ctx, body) => {\n\t\ttry {\n\t\t\tconst other = await Other.findOne({\n\t\t\t\twhere: {\n\t\t\t\t\tid: ctx.request.body.id\n\t\t\t\t}\n\t\t\t})\n\t\t\tconst updates = await other.updateAttributes(ctx.request.body)\n\t\t\tctx.body = updates\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetOthersByCategory: async (ctx, body) => {\n\t\ttry {\n\t\t\tconst others = await Other.findAll({\n\t\t\t\tinclude: [{\n\t\t\t\t\tmodel: Category,\n\t\t\t\t\twhere: {\n\t\t\t\t\t\tslug: ctx.params.category\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t\t})\n\t\t\tctx.body = others\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetOther: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst other = await Other.findOne({\n\t\t\t\twhere: {\n\t\t\t\t\tslug: ctx.params.slug\n\t\t\t\t},\n\t\t\t\tinclude: [Category]\n\t\t\t})\n\t\t\tctx.body = other\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetOthers: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst others = await Other.findAll({\n\t\t\t\tinclude: [Category]\n\t\t\t})\n\t\t\tctx.body = others\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\taddOther: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst other = await Other.create(ctx.request.body, {\n\t\t\t\tinclude: [Category]\n\t\t\t})\n\t\t\tctx.body = other\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\taddCategory: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst category = await Category.create(ctx.request.body)\n\t\t\tctx.body = category\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t},\n\tgetCategories: async (ctx, next) => {\n\t\ttry {\n\t\t\tconst categories = await Category.findAll()\n\t\t\tctx.body = categories\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t}\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/others.js","import redis from 'redis'\nimport passport from 'koa-passport'\nimport User from '../models/user'\nimport jwtService from '../services/jwt-service';\nimport { redisClient, getAsync } from '../handlers/redis'\n\nexport default {\n\tsignUp: async (ctx, next) => {\n\t\tconsole.log(ctx.request.body)\n\t\ttry {\n\t\t\tconst user = await new User(ctx.request.body)\n\t\t\tawait user.save()\n\t\t\tctx.body = user\n\t\t}\n\t\tcatch (err) {\n\t\t\tctx.status = 400;\n\t\t\tctx.body = err\n\t\t\tconsole.log(err)\n\t\t}\n\t},\n\tsignIn: async (ctx, next) => {\n\t\tawait passport.authenticate('local', async (err, user) => {\n\t\t\tconst { email, password } = ctx.request.body;\n\t\t\tif (user == false) {\n\t\t\t\tctx.body = \"Login failed\"\n\t\t\t} else {\n\t\t\t\tconst accessToken = await jwtService.genToken({ id: user._id, username: user.username }, '2m')\n\t\t\t\tconst refreshToken = await jwtService.genToken({ username: user.username }, '30d')\n\t\t\t\tctx.body = { \n\t\t\t\t\taccessToken: accessToken,\n\t\t\t\t\trefreshToken: refreshToken\n\t\t\t\t}\n\t\t\t\tawait redisClient.set(`token_${user.username}`, accessToken, redis.print);\n\t\t\t\tawait redisClient.set(`refreshToken${user.username}`, refreshToken, redis.print);\n\t\t\t\treturn ctx.login(user)\n\t\t\t}\n\t\t})(ctx, next)\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/user.js","import redis from 'redis'\nimport jwtService from '../services/jwt-service'\nimport User from '../models/user'\nimport { redisClient, getAsync } from '../handlers/redis'\n\nconst debug = require('debug')('app:nuxt')\n\nexport default () => async (ctx, next) => {\n\tdebug('token has not recieved')\n\tconst token = ctx.response.header.authorization\n\tlet decoded = null\n\tif (!token) {\n\t\tctx.throw(403, { message: 'Unauth' })\n\t}\n\ttry {\n\t\tdecoded = await jwtService.verify(token)\n\t} catch (e) {\n\t\tconst refreshToken = ctx.response.header['refresh-token']\n\t\tdecoded = await jwtService.verifyNoExp(token)\n\t\tconst confirmedRefreshToken = await getAsync(`refreshToken${decoded.username}`)\n\t\tif (e.name === 'TokenExpiredError' && confirmedRefreshToken === refreshToken) {\n\t\t\tconst newAccessToken = await jwtService.genToken({ id: decoded._id, username: decoded.username }, '2m')\n\t\t\tconst newRefreshToken = await jwtService.genToken({ username: decoded.username }, '30d')\n\t\t\tawait redisClient.set(`token_${decoded.username}`, newAccessToken, redis.print)\n\t\t\tawait redisClient.set(`refreshToken${decoded.username}`, newRefreshToken, redis.print)\n\t\t}\n\t}\n\tdebug('token recieved')\n\ttry {\n\t\tconst user = await User.findOne({ username: decoded.username })\n\t\tdebug('user found', user)\n\t\tnext()\n\t} catch (e) {\n\t\tctx.throw(403, { message: 'Unauth' })\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./server/handlers/checkUser.js","import Sequelize from 'sequelize'\nimport sequelize from '../postgres-connector'\n\nconst Advice = sequelize.define('advice', {\n\tcontent: Sequelize.TEXT\n})\n\nexport {\n\tAdvice\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/models/advice.js","module.exports = require(\"bcrypt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bcrypt\"\n// module id = 27\n// module chunks = 0","module.exports = require(\"cloudinary\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cloudinary\"\n// module id = 28\n// module chunks = 0","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 29\n// module chunks = 0","module.exports = require(\"jsonwebtoken\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jsonwebtoken\"\n// module id = 30\n// module chunks = 0","module.exports = require(\"koa-decoded-querystring\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-decoded-querystring\"\n// module id = 31\n// module chunks = 0","module.exports = require(\"koa-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-router\"\n// module id = 32\n// module chunks = 0","module.exports = require(\"koa2-formidable\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa2-formidable\"\n// module id = 33\n// module chunks = 0","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 34\n// module chunks = 0","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 35\n// module chunks = 0","module.exports = require(\"mongoose-unique-validator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose-unique-validator\"\n// module id = 36\n// module chunks = 0","module.exports = require(\"passport-local\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport-local\"\n// module id = 37\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 38\n// module chunks = 0","module.exports = require(\"slug-generator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"slug-generator\"\n// module id = 39\n// module chunks = 0","module.exports = require(\"util\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"util\"\n// module id = 40\n// module chunks = 0","module.exports = require(\"webpack-node-externals\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-node-externals\"\n// module id = 41\n// module chunks = 0","import Koa from 'koa'\nimport http from 'http'\nimport { Nuxt, Builder } from 'nuxt'\nimport passport from 'koa-passport'\nimport router from './routes'\nconst debug = require('debug')('app:nuxt')\nimport initHandlers from './handlers'\nimport sequelize from './postgres-connector'\n\nasync function start () {\n\tconst app = new Koa()\n\tconst host = process.env.HOST || '127.0.0.1'\n\tconst port = process.env.PORT || 3000\n\n\t// Import and Set Nuxt.js options\n\tlet config = require('../nuxt.config.js')\n\tconfig.dev = !(app.env === 'production')\n\n\t// Instantiate nuxt.js\n\tconst nuxt = new Nuxt(config)\n\n\t// Build in development\n\tif (config.dev) {\n\t\tconst builder = new Builder(nuxt)\n\t\tawait builder.build()\n\t}\n\t//  Passport\n\tapp.use(passport.initialize())\n\trequire('./passport').configure(passport)\n\n\t// Initial handlers\n\tinitHandlers(app)\n\n\t// JWT Handler\n\t//  app.use(jwtHandler())\n\n\t// Postgres / Sequelize\n\tsequelize\n\t.authenticate()\n\t.then(() => {\n\t\tconsole.log('Connection has been established successfully.')\n\t})\n\t.catch(err => {\n\t\tconsole.error('Unable to connect to the database:', err)\n\t})\n\n\t// Router\n\tapp.use(async (ctx, next) => {\n\t\tawait router.routes()(ctx, next)\n\t})\n\n\tapp.use(async (ctx, next) => {\n\t\tawait next()\n\t\tctx.status = 200 // koa defaults to 404 when it sees that status is unset\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tctx.res.on('close', resolve)\n\t\t\tctx.res.on('finish', resolve)\n\t\t\tnuxt.render(ctx.req, ctx.res, promise => {\n\t\t\t// nuxt.render passes a rejected promise into callback on error.\n\t\t\t\tpromise.then(resolve).catch(reject)\n\t\t\t})\n\t\t})\n\t})\n\n\tconst server = http.createServer(app.callback())\n\n\t// listen\n\tserver.listen(port, host)\n\tdebug('Server listening on ' + host + ':' + port) // eslint-disable-line no-console\n}\n\nstart()\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js"],"sourceRoot":""}